<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de notas da Prof. Alice</title>
</head>

<body>
    Nome do aluno: <input id="ipt_nome"> <br>
    Nota 1: <input id="ipt_nota1" type="number"> <br>
    Nota 2: <input id="ipt_nota2" type="number"> <br>
    Nota 3: <input id="ipt_nota3" type="number"> <br>
    <button onclick="cadastrar()">Cadastrar</button>
    <div id="msgCadastro"></div>
    <button onclick="listar()">Listar</button>
    <div id="msgListar"></div>
    <button onclick="aluno()">Aluno</button>
    <div id="msgAluno"></div>
    <button onclick="media()">Média</button>
    <div id="msgMedia"></div>
    <button onclick="notas()">Notas maior que</button>
    <div id="erro"></div>
</body>
<script>
    var alunos = [];

    function cadastrar() {
        msgCadastro.innerHTML = '';
        erro.innerHTML = '';
        var nome = ipt_nome.value;
        var nota1 = Number(ipt_nota1.value);
        var nota2 = Number(ipt_nota2.value);
        var nota3 = Number(ipt_nota3.value);

        var erros = 0

        if (ipt_nome.value == '' || ipt_nota1.value == '' || ipt_nota2.value == '' || ipt_nota3.value == '') {
            erro.innerHTML += 'Preencha os campos para continuar!';
            erros++;
        }
        if (nota1 < 0 || nota1 > 10 || nota2 < 0 || nota2 > 10 || nota3 < 0 || nota3 > 10) {
            erro.innerHTML += 'Numérico maior ou igual a zeros e menor que 10';
            erros++;
        }
        for (let index = 0; index < alunos.length; index++) {
            if (nome == alunos[index]) {
                erro.innerHTML = 'Não é possivel ter duas pessoas com o mesmo nome!';
                erros++;
                break;
            }
        }
        if (erros == 0) {
            alunos.push({
                nome: nome,
                nota1: nota1,
                nota2: nota2,
                nota3: nota3
            })

            msgCadastro.innerHTML = `Aluno: ${nome} cadastrado com sucesso!`;
        }
    }
    function listar() {
        msgListar.innerHTML = '';
        erro.innerHTML = '';
        var erros = 0

        if (alunos.length == 0) {
            erro.innerHTML = 'Nenhuma nota cadastrada!';
            erros++
        }
        if (erros == 0) {
            var pergunta = prompt('1 - Do ultimo ao primeiro <br> 2 - Do primeiro ao ultimo');
            if (pergunta == 1) {
                msgListar.innerHTML = '';
                for (let index = alunos.length - 1; index >= 0; index--) {
                    let media = (alunos[index].nota1 + alunos[index].nota2 + alunos[index].nota3) / 3;
                    msgListar.innerHTML += `<br> Aluno: ${alunos[index].nome} - N1: ${alunos[index].nota1} - N2: ${alunos[index].nota2} - N3: ${alunos[index].nota3} - Média: ${media.toFixed(2)} - Listar`;
                }
            }
            if (pergunta == 2) {
                msgListar.innerHTML = '';
                for (let index = 0; index < alunos.length; index++) {
                    let media = (alunos[index].nota1 + alunos[index].nota2 + alunos[index].nota3) / 3;
                    msgListar.innerHTML += `<br> Aluno: ${alunos[index].nome} - N1: ${alunos[index].nota1} - N2: ${alunos[index].nota2} - N3: ${alunos[index].nota3} - Média: ${media.toFixed(2)} - Listar`;
                }
            }
        }
    }
    function aluno() {
        msgAluno.innerHTML = '';
        erro.innerHTML = '';
        var erros = 0

        if (alunos.length < 0){
            erro.innerHTML = 'Nenhuma nota cadastrada!';
            erros++
        }

        if (erros == 0) {
            var nomeAluno = prompt('Digite o nome do aluno: ');
            for (let index = 0; index < alunos.length; index++) {
                if (alunos.length == 0) {
                    erro.innerHTML = 'Não existe alunos cadastrados';
                } else {
                    if (nomeAluno == alunos[index].nome) {
                        let media = (alunos[index].nota1 + alunos[index].nota2 + alunos[index].nota3) / 3;
                        msgAluno.innerHTML = `Aluno: ${alunos[index].nome} - N1: ${alunos[index].nota1} - N2: ${alunos[index].nota2} - N3: ${alunos[index].nota3} - Média: ${media.toFixed(2)} - Nota Aluno`
                    }
                }

            }
        }
    }

    function media() {
        var prompt_media = prompt("Caso queira consultar a maior média digite: 'maior', e caso queira consultar a menor média digite: 'menor'.");
        
        console.log(prompt_media);

        for (prompt_media; prompt_media != "maior" && prompt_media != "menor"; prompt_media) {
            prompt_media = prompt("Caso queira consultar a maior média digite: 'maior', e caso queira consultar a menor média digite: 'menor'.");
        } 

        var media_temporaria = 0;
        var nome_maior = "";
        var nota1_maior = 0;
        var nota2_maior = 0;
        var nota3_maior = 0;
        var media_maior = 0;

        var nome_menor = "";
        var nota1_menor = 0;
        var nota2_menor = 0;
        var nota3_menor = 0;
        var media_menor = 0;

        console.log(prompt_media)
        if (prompt_media == "maior") {
            for (let contador = 0; contador < alunos.length; contador++) {
                media_temporaria = (alunos[contador].nota1 + alunos[contador].nota2 + alunos[contador].nota3) / 3;

                if (contador == 0) {
                    media_maior == media_temporaria;
                }

                if (media_temporaria > media_maior) {
                    media_maior = media_temporaria;
                    nome_maior = alunos[contador].nome;
                    nota1_maior = alunos[contador].nota1;
                    nota2_maior = alunos[contador].nota2;
                    nota3_maior = alunos[contador].nota3;
                }
            }
            console.log("oi")

            msgMedia.innerHTML = `Registro : Nome:${nome_maior}, Nota 1: ${nota1_maior}, Nota 2: ${nota2_maior}, Nota 3: ${nota3_maior}<br> média: ${media_maior}`;
        }

        if (prompt_media == "menor") {
            for (let contador = 0; contador < alunos.length; contador++) {
                media_temporaria = (alunos[contador].nota1 + alunos[contador].nota2 + alunos[contador].nota3) / 3;

                if (contador == 0) {
                    media_menor = media_temporaria;
                }

                if (media_temporaria <= media_menor) {
                    media_menor = media_temporaria;
                    nome_menor = alunos[contador].nome;
                    nota1_menor = alunos[contador].nota1;
                    nota2_menor = alunos[contador].nota2;
                    nota3_menor = alunos[contador].nota3;
                }
            }
            console.log(nota1_menor)

            msgMedia.innerHTML = `Registro : Nome:${nome_menor}, Nota 1: ${nota1_menor}, Nota 2: ${nota2_menor}, Nota 3: ${nota3_menor}<br> média: ${media_menor}`;
        }
    }
</script>

</html>